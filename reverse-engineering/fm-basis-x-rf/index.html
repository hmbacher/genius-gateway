<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Reverse-engineered gateway for Hekatron Genius Plus X smoke detection systems. Real-time monitoring, MQTT integration, and web-based management interface."><link href="../fm-basis-x-pcb/" rel="prev"><link href="../protocol-analysis/" rel="next"><link rel="icon" href="../../assets/images/doc/favicon.png"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>FM Basis X - RF - Genius Gateway</title><link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css"><link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel="stylesheet" href="../../stylesheets/extra.css"><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-orange"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#rf-configuration" class="md-skip"> Skip to content </a> </div> <div data-md-component="announce"> </div> <div data-md-color-scheme="default" data-md-component="outdated" hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="Header"> <a href="../.." title="Genius Gateway" class="md-header__button md-logo" aria-label="Genius Gateway" data-md-component="logo"> <img src="../../assets/images/doc/logo.png" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> Genius Gateway </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> FM Basis X - RF </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="deep-orange" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="red" data-md-color-accent="deep-orange" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="Search"> <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text data-md-component="search-share" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a href="https://github.com/hmbacher/genius-gateway" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> hmbacher/genius-gateway </div> </a> </div> </nav> <nav class="md-tabs" aria-label="Tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a href="../.." class="md-tabs__link"> Home </a> </li> <li class="md-tabs__item"> <a href="../../background/" class="md-tabs__link"> Background </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href="../" class="md-tabs__link"> Reverse Engineering </a> </li> <li class="md-tabs__item"> <a href="../../hardware/" class="md-tabs__link"> Hardware </a> </li> <li class="md-tabs__item"> <a href="../../features/" class="md-tabs__link"> Features </a> </li> <li class="md-tabs__item"> <a href="../../setup/" class="md-tabs__link"> Setup </a> </li> <li class="md-tabs__item"> <a href="../../api/" class="md-tabs__link"> API Reference </a> </li> <li class="md-tabs__item"> <a href="../../license/" class="md-tabs__link"> License </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../.." title="Genius Gateway" class="md-nav__button md-logo" aria-label="Genius Gateway" data-md-component="logo"> <img src="../../assets/images/doc/logo.png" alt="logo"> </a> Genius Gateway </label> <div class="md-nav__source"> <a href="https://github.com/hmbacher/genius-gateway" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> hmbacher/genius-gateway </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../.." class="md-nav__link"> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-nav__item"> <a href="../../background/" class="md-nav__link"> <span class="md-ellipsis"> Background </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked> <div class="md-nav__link md-nav__container"> <a href="../" class="md-nav__link "> <span class="md-ellipsis"> Reverse Engineering </span> </a> <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> Reverse Engineering </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../fm-basis-x-pcb/" class="md-nav__link"> <span class="md-ellipsis"> FM Basis X - PCB </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> FM Basis X - RF </span> <span class="md-nav__icon md-icon"></span> </label> <a href="./" class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> FM Basis X - RF </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#analysis-method" class="md-nav__link"> <span class="md-ellipsis"> Analysis Method </span> </a> <nav class="md-nav" aria-label="Analysis Method"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#startup-sequence" class="md-nav__link"> <span class="md-ellipsis"> Startup Sequence </span> </a> </li> <li class="md-nav__item"> <a href="#initial-burst-write" class="md-nav__link"> <span class="md-ellipsis"> Initial Burst Write </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#configuration" class="md-nav__link"> <span class="md-ellipsis"> Configuration </span> </a> <nav class="md-nav" aria-label="Configuration"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#key-rf-parameters" class="md-nav__link"> <span class="md-ellipsis"> Key RF Parameters </span> </a> </li> <li class="md-nav__item"> <a href="#power" class="md-nav__link"> <span class="md-ellipsis"> Power </span> </a> </li> <li class="md-nav__item"> <a href="#wake-on-radio-wor" class="md-nav__link"> <span class="md-ellipsis"> Wake-on-Radio (WOR) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../protocol-analysis/" class="md-nav__link"> <span class="md-ellipsis"> Protocol Analysis </span> </a> </li> <li class="md-nav__item"> <a href="../protocol-captures/" class="md-nav__link"> <span class="md-ellipsis"> Protocol Captures </span> </a> </li> <li class="md-nav__item"> <a href="../uart-analysis/" class="md-nav__link"> <span class="md-ellipsis"> UART Analysis </span> </a> </li> <li class="md-nav__item"> <a href="../eeprom-analysis/" class="md-nav__link"> <span class="md-ellipsis"> EEPROM Analysis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../hardware/" class="md-nav__link"> <span class="md-ellipsis"> Hardware </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5"> <div class="md-nav__link md-nav__container"> <a href="../../features/" class="md-nav__link "> <span class="md-ellipsis"> Features </span> </a> <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_5"> <span class="md-nav__icon md-icon"></span> Features </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../features/overview/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19.5 13.572l-7.5 7.428l-2.896 -2.868m-6.117 -8.104a5 5 0 0 1 9.013 -3.022a5 5 0 1 1 7.5 6.572"></path><path d="M3 13h2l2 3l2 -6l1 3h3"></path></g></svg> <span class="md-ellipsis"> System Overview </span> </a> </li> <li class="md-nav__item"> <a href="../../features/gateway-settings/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M6 4v4"></path><path d="M6 12v8"></path><path d="M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M12 4v10"></path><path d="M12 18v2"></path><path d="M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M18 4v1"></path><path d="M18 9v11"></path></g></svg> <span class="md-ellipsis"> Gateway Settings </span> </a> </li> <li class="md-nav__item"> <a href="../../features/device-management/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8l-.8 3a1.25 1.25 0 0 1 -1.2 1h-8a1.25 1.25 0 0 1 -1.2 -1l-.8 -3"></path><path d="M3 4m0 1a1 1 0 0 1 1 -1h16a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1z"></path><path d="M12 16c.643 .288 1.017 .756 1 1.25c.017 .494 -.357 .962 -1 1.25s-1.017 .756 -1 1.25c-.017 .494 .357 .962 1 1.25"></path><path d="M7 16c.643 .288 1.017 .756 1 1.25c.017 .494 -.357 .962 -1 1.25s-1.017 .756 -1 1.25c-.017 .494 .357 .962 1 1.25"></path><path d="M17 16c.643 .288 1.017 .756 1 1.25c.017 .494 -.357 .962 -1 1.25s-1.017 .756 -1 1.25c-.017 .494 .357 .962 1 1.25"></path></g></svg> <span class="md-ellipsis"> Device Management </span> </a> </li> <li class="md-nav__item"> <a href="../../features/packet-visualizer/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 8v-2a2 2 0 0 1 2 -2h2"></path><path d="M4 16v2a2 2 0 0 0 2 2h2"></path><path d="M16 4h2a2 2 0 0 1 2 2v2"></path><path d="M16 20h2a2 2 0 0 0 2 -2v-2"></path><path d="M8 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"></path><path d="M16 16l-2.5 -2.5"></path></g></svg> <span class="md-ellipsis"> Packet Visualizer </span> </a> </li> <li class="md-nav__item"> <a href="../../features/alarm-lines-management/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 6a2 2 0 1 0 -4 0a2 2 0 0 0 4 0"></path><path d="M7 18a2 2 0 1 0 -4 0a2 2 0 0 0 4 0"></path><path d="M21 18a2 2 0 1 0 -4 0a2 2 0 0 0 4 0"></path><path d="M7 18h10"></path><path d="M18 16l-5 -8"></path><path d="M11 8l-5 8"></path></g></svg> <span class="md-ellipsis"> Alarm Lines Management </span> </a> </li> <li class="md-nav__item"> <a href="../../features/websocket-interface/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 4l-5 8l5 8"></path><path d="M16 4l5 8l-5 8"></path></g></svg> <span class="md-ellipsis"> WebSocket Logging Interface </span> </a> </li> <li class="md-nav__item"> <a href="../../features/smart-home-integration/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 8.71l-5.333 -4.148a2.666 2.666 0 0 0 -3.274 0l-5.334 4.148a2.665 2.665 0 0 0 -1.029 2.105v7.2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-7.2c0 -.823 -.38 -1.6 -1.03 -2.105"></path><path d="M16 15c-2.21 1.333 -5.792 1.333 -8 0"></path></g></svg> <span class="md-ellipsis"> Smart Home Integration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6"> <div class="md-nav__link md-nav__container"> <a href="../../setup/" class="md-nav__link "> <span class="md-ellipsis"> Setup </span> </a> <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_6"> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../setup/general-setup/" class="md-nav__link"> <span class="md-ellipsis"> General Setup </span> </a> </li> <li class="md-nav__item"> <a href="../../setup/configure-gateway/" class="md-nav__link"> <span class="md-ellipsis"> Configure Genius Gateway </span> </a> </li> <li class="md-nav__item"> <a href="../../setup/connections/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 19a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"></path><path d="M18 5a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"></path><path d="M10 5a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"></path><path d="M6 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"></path><path d="M18 19a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"></path><path d="M14 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"></path><path d="M22 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z"></path><path d="M6 12h4"></path><path d="M14 12h4"></path><path d="M15 7l-2 3"></path><path d="M9 7l2 3"></path><path d="M11 14l-2 3"></path><path d="M13 14l2 3"></path></g></svg> <span class="md-ellipsis"> Connections </span> </a> </li> <li class="md-nav__item"> <a href="../../setup/wifi/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 18l.01 0"></path><path d="M9.172 15.172a4 4 0 0 1 5.656 0"></path><path d="M6.343 12.343a8 8 0 0 1 11.314 0"></path><path d="M3.515 9.515c4.686 -4.687 12.284 -4.687 17 0"></path></g></svg> <span class="md-ellipsis"> WiFi </span> </a> </li> <li class="md-nav__item"> <a href="../../setup/users/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path><path d="M21 21v-2a4 4 0 0 0 -3 -3.85"></path></g></svg> <span class="md-ellipsis"> Users </span> </a> </li> <li class="md-nav__item"> <a href="../../setup/system/" class="md-nav__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M6 4v4"></path><path d="M6 12v8"></path><path d="M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M12 4v10"></path><path d="M12 18v2"></path><path d="M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M18 4v1"></path><path d="M18 9v11"></path></g></svg> <span class="md-ellipsis"> System </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7"> <div class="md-nav__link md-nav__container"> <a href="../../api/" class="md-nav__link "> <span class="md-ellipsis"> API Reference </span> </a> <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false"> <label class="md-nav__title" for="__nav_7"> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../../api/http-api/" class="md-nav__link"> <span class="md-ellipsis"> HTTP API </span> </a> </li> <li class="md-nav__item"> <a href="../../api/websocket-api/" class="md-nav__link"> <span class="md-ellipsis"> WebSocket API </span> </a> </li> <li class="md-nav__item"> <a href="../../api/mqtt-topics/" class="md-nav__link"> <span class="md-ellipsis"> MQTT Topics </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../../license/" class="md-nav__link"> <span class="md-ellipsis"> License </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#analysis-method" class="md-nav__link"> <span class="md-ellipsis"> Analysis Method </span> </a> <nav class="md-nav" aria-label="Analysis Method"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#startup-sequence" class="md-nav__link"> <span class="md-ellipsis"> Startup Sequence </span> </a> </li> <li class="md-nav__item"> <a href="#initial-burst-write" class="md-nav__link"> <span class="md-ellipsis"> Initial Burst Write </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#configuration" class="md-nav__link"> <span class="md-ellipsis"> Configuration </span> </a> <nav class="md-nav" aria-label="Configuration"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#key-rf-parameters" class="md-nav__link"> <span class="md-ellipsis"> Key RF Parameters </span> </a> </li> <li class="md-nav__item"> <a href="#power" class="md-nav__link"> <span class="md-ellipsis"> Power </span> </a> </li> <li class="md-nav__item"> <a href="#wake-on-radio-wor" class="md-nav__link"> <span class="md-ellipsis"> Wake-on-Radio (WOR) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <a href="https://github.com/hmbacher/genius-gateway/edit/main/docs/reverse-engineering/fm-basis-x-rf.md" title="Edit this page" class="md-content__button md-icon" rel="edit"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg> </a> <a href="https://github.com/hmbacher/genius-gateway/raw/main/docs/reverse-engineering/fm-basis-x-rf.md" title="View source of this page" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg> </a> <h1 id="rf-configuration">RF Configuration<a class="headerlink" href="#rf-configuration" title="Permanent link">¶</a></h1> <p>This section describes the radio frequency settings and configuration parameters used by the Hekatron Genius Plus X communication system.</p> <h2 id="analysis-method">Analysis Method<a class="headerlink" href="#analysis-method" title="Permanent link">¶</a></h2> <p>The CC1101 RF transceiver is connected to the microcontroller via SPI. Consequently, configuration and control are primarily based on this connection.</p> <p>To determine the specific CC1101 parameters, it was necessary to analyze the SPI communication using a digital oscilloscope. Built-in analysis functions (for serial interfaces like SPI or UART) facilitate the analysis work. However, the most comfortable evaluation is with a logic analyzer, which is specialized for this type of analysis.</p> <p>The CC1101 transceiver datasheet describes commands for writing and reading configuration and status registers. This allows identification of read and write actions within the recorded communication. Furthermore, using the information in the CC1101 datasheet, one can determine which registers are written or read and what data is written or read.</p> <p>Once the individual configuration registers and the data being written are identified, the datasheet information can be used to determine their meaning and effect.</p> <h3 id="startup-sequence">Startup Sequence<a class="headerlink" href="#startup-sequence" title="Permanent link">¶</a></h3> <p>When the radio module is plugged into the smoke detector, it receives power. Unlike the smoke detectors, which have permanent power supply (batteries cannot be removed), the radio modules have no internal power supply. Consequently, all necessary configurations occur after plugging in the radio module.</p> <p>Immediately after the CC1101 chip reset, a series of individual registers are written and read. Immediately thereafter, the decisive configuration is performed using burst write.</p> <p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../../assets/images/diagrams/la-init-burst-write.png" data-desc-position="bottom"><img alt="CC1101 Burst Write Initialization" src="../../assets/images/diagrams/la-init-burst-write.png" title="Initial configuration is written to CC1101 by burst write" width="100%"></a></p> <p align="center"><em>Figure 1: Logic analyzer capture showing CC1101 burst write initialization sequence</em></p> <h3 id="initial-burst-write">Initial Burst Write<a class="headerlink" href="#initial-burst-write" title="Permanent link">¶</a></h3> <p>The following table shows the complete register initialization sequence captured from the SPI communication:</p> <table> <thead> <tr> <th>Register</th> <th>Address</th> <th>Value</th> <th>Purpose</th> </tr> </thead> <tbody> <tr> <td>IOCFG2</td> <td>0x00</td> <td>0x0E</td> <td><strong>GDO2 Pin Configuration</strong>: <code>0x0E</code> = RX FIFO threshold signal. Pin asserts when RX FIFO is filled at or above threshold (32 bytes). Pin goes high when data available for reading.</td> </tr> <tr> <td>IOCFG1</td> <td>0x01</td> <td>0x2E</td> <td><strong>GDO1 Pin Configuration</strong>: <code>0x2E</code> = High impedance (3-state). Pin is disabled and presents high impedance to external circuits. Not used in this application.</td> </tr> <tr> <td>IOCFG0</td> <td>0x02</td> <td>0x24</td> <td><strong>GDO0 Pin Configuration</strong>: <code>0x24</code> = WOR_EVNT0 signal. Pin pulses high when Wake-on-Radio EVENT0 timeout occurs, enabling low-power periodic wake-up functionality.</td> </tr> <tr> <td>FIFOTHR</td> <td>0x03</td> <td>0x47</td> <td><strong>FIFO Thresholds</strong>: <code>0x47</code> = Bits[7]=0 (ADC retention disabled), Bits[5:4]=01 (Close in RX timeout), Bits[3:0]=0111 = TX threshold: 33 bytes free, RX threshold: 32 bytes filled.</td> </tr> <tr> <td>SYNC1</td> <td>0x04</td> <td>0xD3</td> <td><strong>Sync Word High Byte</strong>: <code>0xD3</code> = Upper 8 bits of 16-bit sync word (0xD391). Used for packet detection and synchronization.</td> </tr> <tr> <td>SYNC0</td> <td>0x05</td> <td>0x91</td> <td><strong>Sync Word Low Byte</strong>: <code>0x91</code> = Lower 8 bits of 16-bit sync word (0xD391). Combined with SYNC1 forms unique packet identifier.</td> </tr> <tr> <td>PKTLEN</td> <td>0x06</td> <td>0xFF</td> <td><strong>Fixed Packet Length</strong>: <code>0xFF</code> = 255 bytes maximum packet length. Only used in fixed packet length mode (not active here due to variable length mode).</td> </tr> <tr> <td>PKTCTRL1</td> <td>0x07</td> <td>0x04</td> <td><strong>Packet Control 1</strong>: <code>0x04</code> = Bits[7:5]=000 (PQT=0), Bit[3]=0 (no address check), Bit[2]=1 (append status bytes), Bits[1:0]=00 (no address check). Status bytes (RSSI, LQI, CRC) appended to received packets.</td> </tr> <tr> <td>PKTCTRL0</td> <td>0x08</td> <td>0x45</td> <td><strong>Packet Control 0</strong>: <code>0x45</code> = Bit[6]=1 (data whitening ON), Bit[4]=0 (normal packet format), Bit[2]=1 (CRC calculation/check ON), Bits[1:0]=01 (variable packet length mode). First byte indicates packet length.</td> </tr> <tr> <td>ADDR</td> <td>0x09</td> <td>0x00</td> <td><strong>Device Address</strong>: <code>0x00</code> = Node address 0. Not used since address checking is disabled in PKTCTRL1.</td> </tr> <tr> <td>CHANNR</td> <td>0x0A</td> <td>0x00</td> <td><strong>Channel Number</strong>: <code>0x00</code> = Channel 0. Base frequency used without channel spacing offset.</td> </tr> <tr> <td>FSCTRL1</td> <td>0x0B</td> <td>0x06</td> <td><strong>Frequency Synthesizer Control</strong>: <code>0x06</code> = IF frequency = (26MHz/1024) × 6 = 152.34 kHz. Sets intermediate frequency for receiver.</td> </tr> <tr> <td>FSCTRL0</td> <td>0x0C</td> <td>0x00</td> <td><strong>Frequency Offset</strong>: <code>0x00</code> = No frequency offset. Base frequency used without additional offset.</td> </tr> <tr> <td>FREQ2</td> <td>0x0D</td> <td>0x21</td> <td><strong>Frequency Control High</strong>: <code>0x21</code> = FREQ[23:16] bits. Combined frequency word = 0x21656A = 2188650₁₀ → f = (26MHz/65536) × 2188650 = 868.035 MHz</td> </tr> <tr> <td>FREQ1</td> <td>0x0E</td> <td>0x65</td> <td><strong>Frequency Control Middle</strong>: <code>0x65</code> = FREQ[15:8] bits. Part of 24-bit frequency control word for 868.035 MHz carrier frequency.</td> </tr> <tr> <td>FREQ0</td> <td>0x0F</td> <td>0x6A</td> <td><strong>Frequency Control Low</strong>: <code>0x6A</code> = FREQ[7:0] bits. Completes 24-bit frequency word: 0x21656A → 868.035 MHz carrier frequency.</td> </tr> <tr> <td>MDMCFG4</td> <td>0x10</td> <td>0xCA</td> <td><strong>Modem Config 4</strong>: <code>0xCA</code> = Bits[7:6]=11 (CHANBW_E=3), Bits[5:4]=00 (CHANBW_M=0) → BW = 26MHz/(8×(4+0)×2³) = 101.56 kHz, Bits[3:0]=1010 (DRATE_E=10)</td> </tr> <tr> <td>MDMCFG3</td> <td>0x11</td> <td>0x83</td> <td><strong>Modem Config 3</strong>: <code>0x83</code> = DRATE_M = 131₁₀. Data rate = ((256+131)×2¹⁰×26MHz)/(2²⁸) = 38.383 kBaud. Combined with MDMCFG4 for complete data rate calculation.</td> </tr> <tr> <td>MDMCFG2</td> <td>0x12</td> <td>0x13</td> <td><strong>Modem Config 2</strong>: <code>0x13</code> = Bit[7]=0 (DEM_DCFILT_OFF), Bits[6:4]=001 (MOD_FORMAT=GFSK), Bit[3]=0 (Manchester disabled), Bits[2:0]=011 (SYNC_MODE=30/32 sync word bits detected).</td> </tr> <tr> <td>MDMCFG1</td> <td>0x13</td> <td>0x23</td> <td><strong>Modem Config 1</strong>: <code>0x23</code> = Bit[7]=0 (FEC disabled), Bits[6:4]=010 (NUM_PREAMBLE=4 bytes), Bits[1:0]=11 (CHANSPC_E=3). Channel spacing exponent for frequency hopping.</td> </tr> <tr> <td>MDMCFG0</td> <td>0x14</td> <td>0x99</td> <td><strong>Modem Config 0</strong>: <code>0x99</code> = CHANSPC_M = 153₁₀. Channel spacing = ((256+153)×2³×26MHz)/(2¹⁸) = 199.95 kHz. Used for multi-channel operation.</td> </tr> <tr> <td>DEVIATN</td> <td>0x15</td> <td>0x35</td> <td><strong>Frequency Deviation</strong>: <code>0x35</code> = Bits[6:4]=011 (DEVIATION_E=3), Bits[2:0]=101 (DEVIATION_M=5). Deviation = (8+5)×2³×26MHz/2¹⁷ = 47.61 kHz for GFSK modulation.</td> </tr> <tr> <td>MCSM2</td> <td>0x16</td> <td>0x11</td> <td><strong>Main Radio Control 2</strong>: <code>0x11</code> = Bits[4:3]=10 (RX_TIME_RSSI), Bits[2:0]=001 (RX_TIME=1). Timeout for RX termination based on RSSI, carrier sense timeout = 1 × 0.1803 ms.</td> </tr> <tr> <td>MCSM1</td> <td>0x17</td> <td>0x02</td> <td><strong>Main Radio Control 1</strong>: <code>0x02</code> = Bits[5:4]=00 (CCA_MODE=always), Bits[3:2]=00 (RXOFF_MODE=IDLE), Bits[1:0]=10 (TXOFF_MODE=RX). After TX, automatically go to RX mode.</td> </tr> <tr> <td>MCSM0</td> <td>0x18</td> <td>0x14</td> <td><strong>Main Radio Control 0</strong>: <code>0x14</code> = Bits[5:4]=01 (FS_AUTOCAL=from IDLE to RX/TX), Bits[3:2]=01 (PO_TIMEOUT=149-155 μs), Bits[1:0]=00 (PIN_CTRL disabled). Auto-calibration on state transitions.</td> </tr> <tr> <td>FOCCFG</td> <td>0x19</td> <td>0x16</td> <td><strong>Frequency Offset Compensation</strong>: <code>0x16</code> = Bits[5:3]=010 (FOC_PRE_K=3K), Bits[2]=1 (FOC_POST_K=K/2), Bits[1:0]=10 (FOC_LIMIT=±BW/8). Compensates ±12.7 kHz frequency offset with 3K pre-sync gain, K/2 post-sync gain.</td> </tr> <tr> <td>BSCFG</td> <td>0x1A</td> <td>0x6C</td> <td><strong>Bit Synchronization Config</strong>: <code>0x6C</code> = Bits[7:6]=01 (BS_PRE_KI=2KI), Bits[5:4]=10 (BS_PRE_KP=3KP), Bits[3:2]=11 (BS_POST_KI=KI), Bits[1:0]=00 (BS_POST_KP=KP). Clock recovery with 2KI/3KP pre-sync, KI/KP post-sync gains.</td> </tr> <tr> <td>AGCCTRL2</td> <td>0x1B</td> <td>0x03</td> <td><strong>AGC Control 2</strong>: <code>0x03</code> = Bits[7:6]=00 (MAX_DVGA_GAIN=all gain settings), Bits[5:3]=000 (MAX_LNA_GAIN=maximum), Bits[2:0]=011 (MAGN_TARGET=33 dB). AGC targets 33 dB channel amplitude with full gain range.</td> </tr> <tr> <td>AGCCTRL1</td> <td>0x1C</td> <td>0x4A</td> <td><strong>AGC Control 1</strong>: <code>0x4A</code> = Bit[6]=1 (AGC_LNA_PRIORITY=1), Bits[5:4]=00 (CARRIER_SENSE_REL_THR=disabled), Bits[3:0]=1010 (CARRIER_SENSE_ABS_THR=-6 dB). LNA gain adjusted first, carrier sense at -6 dBm absolute threshold.</td> </tr> <tr> <td>AGCCTRL0</td> <td>0x1D</td> <td>0x91</td> <td><strong>AGC Control 0</strong>: <code>0x91</code> = Bits[7:6]=10 (HYST_LEVEL=medium), Bits[5:4]=01 (WAIT_TIME=16 samples), Bits[3:2]=00 (AGC_FREEZE=never), Bits[1:0]=01 (FILTER_LENGTH=16 samples). Medium hysteresis, 16-sample averaging.</td> </tr> <tr> <td>WOREVT1</td> <td>0x1E</td> <td>0x0C</td> <td><strong>WOR Event0 Timeout High</strong>: <code>0x0C</code> = EVENT0[15:8] = 12₁₀. Combined with WOREVT0: EVENT0 = 0x0CF3 = 3315₁₀. WOR period = 3315 × 2⁵ × 0.9765 ms = 103.4 seconds between wake-ups.</td> </tr> <tr> <td>WOREVT0</td> <td>0x1F</td> <td>0xF3</td> <td><strong>WOR Event0 Timeout Low</strong>: <code>0xF3</code> = EVENT0[7:0] = 243₁₀. Completes 16-bit timeout: 0x0CF3 = 3315₁₀ × 32 × 0.9765 ms = 103.4 second sleep periods for power saving.</td> </tr> <tr> <td>WORCTRL</td> <td>0x20</td> <td>0x49</td> <td><strong>WOR Control</strong>: <code>0x49</code> = Bit[7]=0 (RC_PD=normal), Bits[6:4]=100 (EVENT1=16), Bit[3]=1 (RC_CAL=enabled), Bits[2:0]=001 (WOR_RES=2⁵ periods). RC oscillator calibration enabled, 32-period resolution, EVENT1 timeout.</td> </tr> <tr> <td>FREND1</td> <td>0x21</td> <td>0x56</td> <td><strong>Frontend RX Config</strong>: <code>0x56</code> = Bits[7:6]=01 (LNA_CURRENT), Bits[5:4]=01 (LNA2MIX_CURRENT), Bits[3:2]=01 (LODIV_BUF_CURRENT_RX), Bits[1:0]=10 (MIX_CURRENT). Optimized RX frontend current settings for sensitivity/power balance.</td> </tr> <tr> <td>FREND0</td> <td>0x22</td> <td>0x10</td> <td><strong>Frontend TX Config</strong>: <code>0x10</code> = Bits[7:4]=0001 (LODIV_BUF_CURRENT_TX), Bits[2:0]=000 (PA_POWER=0). PA power table index 0, optimized TX LO buffer current for power efficiency.</td> </tr> <tr> <td>FSCAL3</td> <td>0x23</td> <td>0xE9</td> <td><strong>Frequency Synthesizer Cal 3</strong>: <code>0xE9</code> = Bits[7:6]=11 (FSCAL3[7:6]), Bits[5:4]=10 (CHP_CURR_CAL_EN), Bits[3:0]=1001 (FSCAL3[3:0]). VCO calibration values for 868 MHz operation, charge pump current enabled.</td> </tr> <tr> <td>FSCAL2</td> <td>0x24</td> <td>0x2A</td> <td><strong>Frequency Synthesizer Cal 2</strong>: <code>0x2A</code> = Bit[5]=1 (VCO_CORE_H_EN=high performance VCO), Bits[4:0]=01010 (FSCAL2[4:0]=10). High VCO current for stable 868 MHz synthesis with calibration value 10.</td> </tr> <tr> <td>FSCAL1</td> <td>0x25</td> <td>0x00</td> <td><strong>Frequency Synthesizer Cal 1</strong>: <code>0x00</code> = Bits[5:0]=000000 (FSCAL1[5:0]=0). Frequency synthesizer calibration result value 0, indicates optimal VCO calibration for target frequency.</td> </tr> <tr> <td>FSCAL0</td> <td>0x26</td> <td>0x1F</td> <td><strong>Frequency Synthesizer Cal 0</strong>: <code>0x1F</code> = Bits[6:0]=0011111 (FSCAL0[6:0]=31). Frequency synthesizer calibration result value 31, fine-tunes VCO for precise 868.035 MHz operation.</td> </tr> </tbody> </table> <div class="admonition warning"> <p class="admonition-title">Dynamic Configuration Changes</p> <p>While the burst write establishes the base configuration, some registers may be modified during runtime based on operational requirements. Parameters like power levels (PATABLE), WOR settings (WORCTRL), and calibration values (FSCAL registers) can be dynamically adjusted by the firmware to optimize performance or adapt to changing conditions.</p> </div> <h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">¶</a></h2> <h3 id="key-rf-parameters">Key RF Parameters<a class="headerlink" href="#key-rf-parameters" title="Permanent link">¶</a></h3> <p>Based on the register analysis, the following key parameters were determined:</p> <table> <thead> <tr> <th>Parameter</th> <th>Value</th> <th>Calculation/Source</th> </tr> </thead> <tbody> <tr> <td><strong>Carrier Frequency</strong></td> <td>868.035400390625 MHz</td> <td>FREQ = 0x21656A = 2188650₁₀<br>f = (26MHz/65536) × 2188650</td> </tr> <tr> <td><strong>Modulation</strong></td> <td>GFSK</td> <td>MDMCFG2[6:4] = 001</td> </tr> <tr> <td><strong>Sync Word</strong></td> <td>0xD391</td> <td>SYNC1=0xD3, SYNC0=0x91</td> </tr> <tr> <td><strong>Data Rate</strong></td> <td>38.383483886719 kBaud</td> <td>DRATE_E=10, DRATE_M=131<br>Rate = ((256+131)×2¹⁰×26MHz)/(2²⁸)</td> </tr> <tr> <td><strong>Frequency Deviation</strong></td> <td>±47.607421875 kHz</td> <td>DEVIATION_E=3, DEVIATION_M=5<br>Dev = (8+5)×2³×26MHz/2¹⁷</td> </tr> <tr> <td><strong>Channel Bandwidth</strong></td> <td>101.5625 kHz</td> <td>CHANBW_E=3, CHANBW_M=0<br>BW = 26MHz/(8×(4+0)×2³)</td> </tr> <tr> <td><strong>Sync Mode</strong></td> <td>30/32 bits</td> <td>MDMCFG2[2:0] = 011</td> </tr> <tr> <td><strong>Preamble Length</strong></td> <td>4 bytes</td> <td>MDMCFG1[6:4] = 010</td> </tr> <tr> <td><strong>Packet Format</strong></td> <td>Variable length</td> <td>PKTCTRL0[1:0] = 01</td> </tr> <tr> <td><strong>CRC Enable</strong></td> <td>ON</td> <td>PKTCTRL0[2] = 1</td> </tr> <tr> <td><strong>Data Whitening</strong></td> <td>ON</td> <td>PKTCTRL0[6] = 1</td> </tr> <tr> <td><strong>Address Check</strong></td> <td>Disabled</td> <td>PKTCTRL1[1:0] = 00</td> </tr> <tr> <td><strong>Status Append</strong></td> <td>Enabled</td> <td>PKTCTRL1[2] = 1</td> </tr> <tr> <td><strong>Channel Spacing</strong></td> <td>199.951171875 kHz</td> <td>CHANSPC_E=3, CHANSPC_M=153<br>Spacing = ((256+153)×2³×26MHz)/(2¹⁸)</td> </tr> <tr> <td><strong>Manchester Encoding</strong></td> <td>Disabled</td> <td>MDMCFG2[3] = 0</td> </tr> </tbody> </table> <h3 id="power">Power<a class="headerlink" href="#power" title="Permanent link">¶</a></h3> <p>The power amplifier (PA) configuration is set through the PATABLE and FREND0 registers:</p> <table> <thead> <tr> <th>Register</th> <th>Address</th> <th>Value</th> <th>Purpose</th> </tr> </thead> <tbody> <tr> <td>PATABLE[0]</td> <td>0x3E</td> <td>0x03</td> <td><strong>PA Power Level 0</strong>: <code>0x03</code> = Minimum output power (~-30 dBm). Used for very short range communication or testing modes.</td> </tr> <tr> <td>PATABLE[1]</td> <td>0x3E</td> <td>0x0F</td> <td><strong>PA Power Level 1</strong>: <code>0x0F</code> = Low output power (~-20 dBm). Used for close-proximity device communication within same room.</td> </tr> <tr> <td>PATABLE[2]</td> <td>0x3E</td> <td>0x1E</td> <td><strong>PA Power Level 2</strong>: <code>0x1E</code> = Medium-low output power (~-15 dBm). Used for moderate range indoor communication.</td> </tr> <tr> <td>PATABLE[3]</td> <td>0x3E</td> <td>0x27</td> <td><strong>PA Power Level 3</strong>: <code>0x27</code> = Medium output power (~-10 dBm). Standard power level for normal indoor operation.</td> </tr> <tr> <td>PATABLE[4]</td> <td>0x3E</td> <td>0x50</td> <td><strong>PA Power Level 4</strong>: <code>0x50</code> = Medium-high output power (~-6 dBm). Used for extended indoor range or light outdoor use.</td> </tr> <tr> <td>PATABLE[5]</td> <td>0x3E</td> <td>0x81</td> <td><strong>PA Power Level 5</strong>: <code>0x81</code> = High output power (~0 dBm). Used for maximum indoor range or outdoor communication.</td> </tr> <tr> <td>PATABLE[6]</td> <td>0x3E</td> <td>0xCB</td> <td><strong>PA Power Level 6</strong>: <code>0xCB</code> = Very high output power (~+5 dBm). Used for long-range outdoor communication.</td> </tr> <tr> <td>PATABLE[7]</td> <td>0x3E</td> <td>0xC2</td> <td><strong>PA Power Level 7</strong>: <code>0xC2</code> = Maximum output power (~+10 dBm). Highest power setting for maximum range, used sparingly to preserve battery.</td> </tr> <tr> <td>FREND0</td> <td>0x22</td> <td>0x17</td> <td><strong>Frontend TX Config</strong>: <code>0x17</code> = Bits[7:4]=0001 (LODIV_BUF_CURRENT_TX), Bits[2:0]=111 (PA_POWER=7).</td> </tr> </tbody> </table> <div class="admonition note"> <p class="admonition-title">Power Configuration</p> <p><code>FREND0</code> selects <code>PATABLE[7]</code> for maximum transmit power during normal operation.</p> </div> <h3 id="wake-on-radio-wor">Wake-on-Radio (WOR)<a class="headerlink" href="#wake-on-radio-wor" title="Permanent link">¶</a></h3> <p>The radio module uses Wake-on-Radio to minimize power consumption. The system alternates between active periods (<code>EVENT0</code>) and sleep periods, with automatic calibration during startup.</p> <div class="admonition warning"> <p class="admonition-title">Analysis Scope</p> <p>The parameters below are derived from the initial burst write configuration only. WOR functionality and operational behavior have not been extensively investigated since they are not utilized by the Genius Gateway implementation, which operates in continuous receive mode for real-time monitoring.</p> </div> <table> <thead> <tr> <th>Parameter</th> <th>Value</th> <th>Behavior/Function</th> </tr> </thead> <tbody> <tr> <td><strong>Sleep Period (EVENT0)</strong></td> <td>103.376 seconds</td> <td>Device enters low-power sleep mode for ~1 minute 43 seconds between communication windows. Reduces average current consumption significantly.</td> </tr> <tr> <td><strong>Wake Duration</strong></td> <td>~5-10 ms</td> <td>Active listening window where device monitors for incoming transmissions. Short duration minimizes power usage while maintaining responsiveness.</td> </tr> <tr> <td><strong>Duty Cycle</strong></td> <td>~0.01%</td> <td>Extremely low duty cycle (active &lt;0.01% of time) enables months of battery operation while maintaining network connectivity.</td> </tr> <tr> <td><strong>Calibration Mode</strong></td> <td>Automatic</td> <td>RC oscillator automatically calibrates during startup and periodically during operation to maintain accurate timing despite temperature variations.</td> </tr> <tr> <td><strong>Backup Timeout (EVENT1)</strong></td> <td>1654 seconds</td> <td>Secondary timeout (16× EVENT0) provides backup wake-up mechanism if primary timer fails. Ensures device doesn't sleep indefinitely.</td> </tr> <tr> <td><strong>RSSI Timeout</strong></td> <td>0.1803 ms</td> <td>Carrier sense timeout during wake periods. If signal detected, device stays active longer to receive complete packet transmission.</td> </tr> <tr> <td><strong>RC Oscillator Mode</strong></td> <td>Always Active</td> <td>RC oscillator remains powered during sleep (RC_PD=0) to maintain accurate WOR timing. Trades slight power increase for timing reliability.</td> </tr> <tr> <td><strong>WOR Signal Output</strong></td> <td>GDO0 Pin</td> <td>GDO0 configured as WOR_EVNT0 output (<code>0x24</code>) - pulses high when EVENT0 timeout occurs, can be used by microcontroller for wake-up coordination.</td> </tr> <tr> <td><strong>Timing Resolution</strong></td> <td>32 Periods</td> <td>WOR_RES=001 sets 2⁵ = 32 period resolution for wake-up timing, balancing power consumption with timing accuracy.</td> </tr> </tbody> </table> <aside class="md-source-file"> <span class="md-source-file__fact"> <span class="md-icon" title="Last update"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 16, 2026 19:54:25 UTC">January 16, 2026</span> </span> <span class="md-source-file__fact"> <span class="md-icon" title="Created"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"></path></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="January 16, 2026 19:54:25 UTC">January 16, 2026</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-top md-icon" data-md-component="top" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="Footer"> <a href="../fm-basis-x-pcb/" class="md-footer__link md-footer__link--prev" aria-label="Previous: FM Basis X - PCB"> <div class="md-footer__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Previous </span> <div class="md-ellipsis"> FM Basis X - PCB </div> </div> </a> <a href="../protocol-analysis/" class="md-footer__link md-footer__link--next" aria-label="Next: Protocol Analysis"> <div class="md-footer__title"> <span class="md-footer__direction"> Next </span> <div class="md-ellipsis"> Protocol Analysis </div> </div> <div class="md-footer__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> © 2024 <a href="https://github.com/hmbacher" target="_blank" rel="noopener">hmbacher</a> </div> </div> <div class="md-social"> <a href="https://github.com/hmbacher/genius-gateway" target="_blank" rel="noopener" title="Source Code on GitHub" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "stable", "provider": "hmbacher"}}</script> <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script> <script src="../../javascripts/mathjax.js"></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>